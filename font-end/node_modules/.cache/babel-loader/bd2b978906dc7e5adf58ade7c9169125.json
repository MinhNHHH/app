{"ast":null,"code":"var _jsxFileName = \"/Users/minhnh2298/Desktop/finance-app/font-end/src/pages/Dashboard.js\",\n    _s = $RefreshSig$();\n\nimport \"../compoments/css/DashBoard.css\";\nimport React, { useState, useEffect } from 'react';\nimport { Line } from \"react-chartjs-2\";\nimport { Chart } from \"react-google-charts\";\nimport axios from 'axios';\nimport LayOut from '../compoments/Layout';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction DashBoard() {\n  _s();\n\n  const data_id = JSON.parse(sessionStorage.getItem('id'));\n  const [data_fromserver, getDataFromServer] = useState(null);\n  let data_line = {\n    labels: [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\", \"11\", \"12\"],\n    datasets: [{\n      label: \"Money Monthly\",\n      data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n      fill: false,\n      backgroundColor: 'rgb(255, 99, 132)',\n      borderColor: 'rgba(255, 99, 132, 0.2)'\n    }]\n  };\n  let data_pie;\n\n  const getData = async () => {\n    try {\n      await axios.get(`http://127.0.0.1:8000/api/dashboard/${data_id.id}/`).then(response => {\n        const dataserver = response.data;\n        getDataFromServer(dataserver);\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  let sums = 0;\n  useEffect(() => getData(), []);\n\n  if (data_fromserver) {\n    for (let i = 0; i < data_line['labels'].length; i++) {\n      for (let j = 0; j < data_fromserver.data['income'].length; j++) {\n        if (data_line['labels'][i] == data_fromserver.data['income'][j].time_trade__month) {\n          data_line['datasets'][0].data[i] = data_fromserver.data['income'][j].sum;\n        }\n      }\n    }\n\n    ;\n    data_pie = [['Field', 'Money'], ['Balance', data_fromserver.data['balance'] + data_fromserver.data['trade']]];\n\n    for (let i = 0; i < data_fromserver.data['money_filed'].length; i++) {\n      data_pie = [...data_pie, [data_fromserver.data['money_filed'][i].categorize, -data_fromserver.data['money_filed'][i].sum]];\n    }\n\n    sums = data_fromserver.data['history'].reduce((total, cur) => total + cur.money, 0);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashcontainer\",\n      children: [/*#__PURE__*/_jsxDEV(LayOut, {\n        username: data_id.username,\n        title: 'FINANCE DASHBOARD',\n        id: data_id.id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"containborder\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"containborder-body\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"row_content\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              className: \"row_table\",\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: \"Wallet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              className: \"content_table\",\n              children: data_fromserver && /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"content_table-tr\",\n                children: [data_fromserver.balance.toString().replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1,\"), \" VN\\u0110\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"containborder-body\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"row_content\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              className: \"row_table\",\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: \"Budget\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              className: \"content_table\",\n              children: data_fromserver && /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"content_table-tr\",\n                children: [(data_fromserver.data['budget'] + data_fromserver.data['trade']).toString().replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1,\"), \" VN\\u0110\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"containborder-body\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"row_content\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              className: \"row_table\",\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: \"Investment\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              className: \"content_table\",\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"content_table-tr\",\n                children: \"abcdejsf\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"linechart\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"title\",\n          children: \" Line chart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Line, {\n          data: data_line,\n          width: '400px'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"piechart\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"title\",\n          children: \"Money\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Chart, {\n          height: '300px',\n          width: '600px',\n          chartType: \"PieChart\",\n          loader: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Loading Chart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 33\n          }, this),\n          data: data_pie\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"table-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"title\",\n          children: \"Transaction History\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          class: \"table-scroll small-first-col\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Field\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 33\n              }, this), data_fromserver && /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  textAlign: 'right'\n                },\n                children: [\"Trade: \", sums.toString().replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1,\"), \" VN\\u0110\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            class: \"body-half-screen\",\n            children: data_fromserver && data_fromserver.data['history'].map(dataz => /*#__PURE__*/_jsxDEV(\"tr\", {\n              class: \"event_trade\",\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: dataz.categorize\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  textAlign: 'right'\n                },\n                children: [dataz.money.toString().replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1,\"), \" VN\\u0110\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 37\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n\n_s(DashBoard, \"P9+erIVaOHyQ5qRTqwB1kkBVOM4=\");\n\n_c = DashBoard;\nexport default DashBoard;\n\nvar _c;\n\n$RefreshReg$(_c, \"DashBoard\");","map":{"version":3,"sources":["/Users/minhnh2298/Desktop/finance-app/font-end/src/pages/Dashboard.js"],"names":["React","useState","useEffect","Line","Chart","axios","LayOut","DashBoard","data_id","JSON","parse","sessionStorage","getItem","data_fromserver","getDataFromServer","data_line","labels","datasets","label","data","fill","backgroundColor","borderColor","data_pie","getData","get","id","then","response","dataserver","error","console","log","sums","i","length","j","time_trade__month","sum","categorize","reduce","total","cur","money","username","balance","toString","replace","textAlign","map","dataz"],"mappings":"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","sourcesContent":["import \"../compoments/css/DashBoard.css\"\n\nimport React, { useState, useEffect } from 'react'\nimport { Line } from \"react-chartjs-2\";\nimport { Chart } from \"react-google-charts\";\nimport axios from 'axios';\n\n\nimport LayOut from '../compoments/Layout'\n\nfunction DashBoard() {\n    const data_id = JSON.parse(sessionStorage.getItem('id'))\n    const [data_fromserver, getDataFromServer] = useState(null)\n    let data_line = {\n        labels: [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\", \"11\", \"12\"],\n\n        datasets: [\n            {\n                label: \"Money Monthly\",\n                data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n                fill: false,\n                backgroundColor: 'rgb(255, 99, 132)',\n                borderColor: 'rgba(255, 99, 132, 0.2)',\n            }\n        ]\n    };\n    let data_pie;\n    const getData = async () => {\n        try {\n            await axios.get(`http://127.0.0.1:8000/api/dashboard/${data_id.id}/`)\n                .then((response) => {\n                    const dataserver = response.data;\n                    getDataFromServer(dataserver)\n                }\n                )\n        }\n        catch (error) {\n            console.log(error);\n        }\n    };\n    let sums = 0;\n    useEffect(() => getData(), []);\n    if (data_fromserver) {\n        for (let i = 0; i < data_line['labels'].length; i++) {\n            for (let j = 0; j < data_fromserver.data['income'].length; j++) {\n                if (data_line['labels'][i] == data_fromserver.data['income'][j].time_trade__month) {\n                    data_line['datasets'][0].data[i] = data_fromserver.data['income'][j].sum\n                }\n            }\n        };\n        data_pie = [\n            ['Field', 'Money'],\n            ['Balance', data_fromserver.data['balance'] + data_fromserver.data['trade']],\n        ];\n        for (let i = 0; i < data_fromserver.data['money_filed'].length; i++) {\n            data_pie = [...data_pie, [data_fromserver.data['money_filed'][i].categorize, -data_fromserver.data['money_filed'][i].sum]]\n        }\n        sums = data_fromserver.data['history'].reduce((total, cur) => total + cur.money, 0)\n    }\n\n\n    return (\n        <>\n            <div className=\"dashcontainer\">\n                <LayOut username={data_id.username} title={'FINANCE DASHBOARD'} id={data_id.id} />\n                <div className='containborder'>\n                    <div className=\"containborder-body\">\n                        <table className=\"row_content\">\n                            <thead className=\"row_table\">\n                                <tr>\n                                    Wallet\n                            </tr>\n                            </thead>\n                            <tbody className=\"content_table\">\n                                {\n                                    data_fromserver &&\n                                    <tr className=\"content_table-tr\" >\n                                        {data_fromserver.balance.toString().replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1,\")} VNĐ\n                                    </tr>\n                                }\n                            </tbody>\n                        </table>\n                    </div>\n                    <div className=\"containborder-body\">\n                        <table className=\"row_content\">\n                            <thead className=\"row_table\">\n                                <tr>\n                                    Budget\n                            </tr>\n                            </thead>\n                            <tbody className=\"content_table\">\n                                {\n                                    data_fromserver &&\n                                    <tr className=\"content_table-tr\" >\n                                        {(data_fromserver.data['budget'] + data_fromserver.data['trade']).toString().replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1,\")} VNĐ\n                                    </tr>\n                                }\n                            </tbody>\n                        </table>\n                    </div>\n                    <div className=\"containborder-body\">\n                        <table className=\"row_content\">\n                            <thead className=\"row_table\">\n                                <tr>\n                                    Investment\n                            </tr>\n                            </thead>\n                            <tbody className=\"content_table\">\n                                <tr className=\"content_table-tr\">\n                                    abcdejsf\n                            </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n                <div className=\"linechart\">\n                    <p className=\"title\"> Line chart</p>\n\n                    <Line data={data_line}\n                        width={'400px'}\n                    />\n                </div>\n                <div className=\"piechart\">\n                    <p className=\"title\">Money</p>\n                    <Chart\n                        height={'300px'}\n                        width={'600px'}\n                        chartType=\"PieChart\"\n                        loader={<div>Loading Chart</div>}\n                        data={data_pie}\n                    />\n                </div>\n                <div className=\"table-container\">\n                    <p className=\"title\">Transaction History</p>\n                    <table class=\"table-scroll small-first-col\">\n                        <thead>\n                            <tr>\n                                <th>Field</th>\n                                {\n                                    data_fromserver &&\n                                    <th style={{ textAlign: 'right' }}>Trade: {sums.toString().replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1,\")} VNĐ</th>\n                                }\n                            </tr>\n                        </thead>\n\n                        <tbody class=\"body-half-screen\">\n                            {\n                                data_fromserver &&\n                                data_fromserver.data['history'].map((dataz) =>\n                                (\n                                    <tr class=\"event_trade\">\n                                        <td>{dataz.categorize}</td>\n                                        <td style={{ textAlign: 'right' }}>{dataz.money.toString().replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1,\")} VNĐ</td>\n                                    </tr>\n                                ))\n                            }\n                        </tbody>\n\n                    </table>\n                </div>\n            </div>\n        </>\n    )\n}\n\nexport default DashBoard;\n"]},"metadata":{},"sourceType":"module"}